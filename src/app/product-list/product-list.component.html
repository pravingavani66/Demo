<h1>{{title}}</h1>
<hr>

<button (click)='refreshData()'>Refresh Data</button>
<div class="row" *ngIf="products?.length; else noProducts">
    <div class="col-md-3" *ngFor="let product of products;let i= index;trackBy:trackByName">
      <div class="card">
        <img class="card-img-top" src="{{product.imageUrl}}" alt="Card image cap">
        <div class="card-body">
          <h5 class="card-title">{{i+1}}.{{product.productName}}</h5>
          <p class="card-text">{{product.description}}</p>
          <p class="card-text">Released On : {{product.releaseDate}}</p>
          <p class="card-text">Price : {{product.price}}</p>
          <p class="card-text" [ngSwitch]='true'[ngStyle]="getProductStyles(product)">Price : {{product.price}}
            <span *ngSwitchCase='product.price >=200'>(Costly)</span>
            <span *ngSwitchCase='product.price <= 100'>(Cheap)</span>
            <span *ngSwitchDefault>(Value4Money)</span>
          </p>
          <a href="#" class="btn btn-primary" *ngIf="product.isActive; else discontinuedProduct">Buy</a>
          <ng-template #discontinuedProduct>
            <p class="text-danger">This is discontinued</p>
          </ng-template>
        </div>
      </div>
  </div>
</div>
<ng-template #noProducts>
    <p class="text-danger">No Products available</p>
  </ng-template>